### Create a new user
POST http://localhost:3001/api/users
Content-Type:application/json
Accept: application/json

{

"password":"test"
}
###Login
POST http://localhost:3001/api/login

{
"username": "Nikola",
"password": "Nikola"
}

### Add Parcel
POST http://localhost:3001/api/parcels
Content-Type:application/json
Authorization: bearer 

{
"name": "Nova",
"vrsta_useva": "Sljiva",
"povrsina": "1.2",
}

### Create activity of obrada type "bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ik5pa29sYSIsImlkIjoiNjdlNmY0Y2QyNzY4YzMyYmI5YmMyOGNiIiwiaWF0IjoxNzQzNzYyNDQ5fQ.50EgRRaJLM8_ZBVPSiNBIUMG8fXgXcZXYK44TbBplDQ"

POST http://localhost:3001/api/activities
Content-Type:application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJpZCI6IjY5MzA3YzQ4MWRiMTVhNDdlODc0MWU3NiIsImlhdCI6MTc2NTkwNjU3NH0.V77e1VIZBn4V7_YuzFPu4WiahBD3Z8qJeM44TJUMXvA

    {
        "activityType": "obrada",
  
        "tip_obrade": "oranje",
        "debili": "da",
        "parcel": "67e6f7f8e68483481acb1ad0"
    }


### Downlink to TTN example
POST  https://eu1.cloud.thethings.network/api/v3/as/applications/novappprroba/webhooks/proba-hook/devices/mojuredjajsafaksa/down/push
Content-Type:application/json
Authorization: "Bearer NNSXS.523DYXOLFLU5C25C5VYOUIVAJUF5CKDCSB6JWZY.ERBFIWIOA24ALXZFLKTTDRDJ7ADRA77VRK7WMOUMEIBHYBKEM4OQ" 

   {
  "end_device_ids" : {
    "device_id" : "mojuredjajsafaksa",                    // Device ID
    "application_ids" : {
      "application_id" : "novappprroba"              // Application ID
    }
  },
  "downlinks": [{
    "f_port": 1,                            // Frame port
    "frm_payload": "MTU=",                   // Frame payload (Base64)
    "priority": "NORMAL",                    // Priority of the message in the downlink queue
    "confirmed": true,                       // If the downlink expects a confirmation from the device or not
    "correlation_ids" : [  "as:downlink:01JRB8MYRJ77TC6PBCEH7ZBAQD" ]      // Correlation identifiers of the message
  }]
}


### Downlink to Meteoscientific
POST https://console.meteoscientific.com/api/devices/f2a14164e12277d6/queue
Content-Type:application/json
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjaGlycHN0YWNrIiwiaXNzIjoiY2hpcnBzdGFjayIsInN1YiI6IjQ4MTAwYWJkLTM0YjMtNGYxMi1hMTM5LTExYzc0MjZlMWI4NSIsInR5cCI6ImtleSJ9.GjSuApeqpqZAnHrwJixDUrHGVSHz20-4PmMHmTDg_cs
User-Agent: ROOT
Connection: keep-alive

{
    "queueItem": {
      "confirmed": true,
      "fPort": 28,
      "data": "AAUABQ==",
      "isEncrypted": false,
      "isPending": false,
      "fCntDown": 0,
      "expiresAt": null
    }
  }

### ACTIVTIES TESTING

POST http://localhost:3001/api/activities/
Content-Type:application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ik5pa29sYSIsImlkIjoiNjdlNmY0Y2QyNzY4YzMyYmI5YmMyOGNiIiwiaWF0IjoxNzQ0MDE2MjUwfQ.Biiww4zJ3DFFoJPu4X4kNrP1C0OPzwZC64CUoyjbCfA

    {
        "activityType": "djubrenje",
        "datum_od": "10-12-2024",
        "datum_do": "10-12-2024",
        "cena_repromaterijala_h": 200,
        "tip_djubrenja": "predsetveno",
        "parcel": "67e6f7f8e68483481acb1ad0",
          "debili": "da"
    }

###Obrada
POST http://localhost:3001/api/activities/
Content-Type:application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ik5pa29sYSIsImlkIjoiNjdlNmY0Y2QyNzY4YzMyYmI5YmMyOGNiIiwiaWF0IjoxNzQ0MDE2MjUwfQ.Biiww4zJ3DFFoJPu4X4kNrP1C0OPzwZC64CUoyjbCfA

    {
        "activityType": "obrada",
        "datum_od": "10-12-2024",
        "datum_do": "10-12-2024",
        "tip_obrade": "drljanje",
        "parcel": "67e6f7f8e68483481acb1ad0"
       
    }

###Obrada

PUT http://localhost:3001/api/activities/
Content-Type:application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ik5pa29sYSIsImlkIjoiNjdlNmY0Y2QyNzY4YzMyYmI5YmMyOGNiIiwiaWF0IjoxNzQ0MDE2MjUwfQ.Biiww4zJ3DFFoJPu4X4kNrP1C0OPzwZC64CUoyjbCfA

    {
        "activityType": "obrada",
        "datum_od": "10-12-2024",
        "datum_do": "10-12-2024",
        "tip_obrade": "drljanje",
        "parcel": "67e6f7f8e68483481acb1ad0"
    }

###Dev_data auth check
GET http://localhost:3001/api/TTN/device_data/mojuredjajsafaksa/-5
Content-Type:application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJpZCI6IjY5MzA3YzQ4MWRiMTVhNDdlODc0MWU3NiIsImlhdCI6MTc2NTkwNjU3NH0.V77e1VIZBn4V7_YuzFPu4WiahBD3Z8qJeM44TJUMXvA

###Get Parcels
GET  http://localhost:3001/api/parcels
Content-Type:application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJpZCI6IjY5MzA3YzQ4MWRiMTVhNDdlODc0MWU3NiIsImlhdCI6MTc2NDc4NTY4NX0.sEpbkC5_SkkXgHfDJOEWW8DbiC1dPtNEwKNhxNgQh9Q
###Creating new TTN device

POST http://localhost:3001/api/TTN/connector
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJpZCI6IjY5MzA3YzQ4MWRiMTVhNDdlODc0MWU3NiIsImlhdCI6MTc2NDc4NTY4NX0.sEpbkC5_SkkXgHfDJOEWW8DbiC1dPtNEwKNhxNgQh9Q

{
 "apikey":"NNSXS.523DYXOLSCKDCSB6JWZY.ERBFIWIOA24ALXZFLKTTDRD37ADRA77VRK7WMOUMEIBHYBKEM40Q",
 "dev_id": "mojuredjajsafaksa",
  "name": "proba"
}

###crash app attempt (resilient)
POST http://localhost:3001/api/TTN
Content-Type:application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJpZCI6IjY5MzA3YzQ4MWRiMTVhNDdlODc0MWU3NiIsImlhdCI6MTc2NTkwNjU3NH0.V77e1VIZBn4V7_YuzFPu4WiahBD3Z8qJeM44TJUMXvA
{
  "uplink_message": {
    "decoded_payload": "pozz"

  }
}

###crash app attempt (resilient)
POST http://localhost:3001/api/TTN/send-downlink
Content-Type:application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJpZCI6IjY5MzA3YzQ4MWRiMTVhNDdlODc0MWU3NiIsImlhdCI6MTc2NTkwNjU3NH0.V77e1VIZBn4V7_YuzFPu4WiahBD3Z8qJeM44TJUMXvA

{
  "uplink_message": {
    "decoded_payload": "pozz"

  }
}


###Creating new Chripstack device

POST http://localhost:3001/api/Chirpstack/connector
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJpZCI6IjY5MzA3YzQ4MWRiMTVhNDdlODc0MWU3NiIsImlhdCI6MTc2NDc4NTY4NX0.sEpbkC5_SkkXgHfDJOEWW8DbiC1dPtNEwKNhxNgQh9Q

{
 "apikey":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjaGlycHN0YWNrIiwiaXNzIjoiY2hpcnBzdGFjayIsInN1YiI6IjQ4MTAwYWJkLTM0YjMtNGYxMi1hMTM5LTExYzc0MjZlMWI4NSIsInR5cCI6ImtleSJ9.GjSuApeqpqZAnHrwJixDUrHGVSHz20-4PmMHmTDg_cs",
 "dev_eui": "f2a14164e12277d6",
  "name": "ChripDevice 01"
}

###Sending downlink with Chripstack device

POST http://localhost:3001/api/Chirpstack/send-downlink
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJpZCI6IjY5MzA3YzQ4MWRiMTVhNDdlODc0MWU3NiIsImlhdCI6MTc2NDc4NTY4NX0.sEpbkC5_SkkXgHfDJOEWW8DbiC1dPtNEwKNhxNgQh9Q

{
    "dev_eui": "f2a14164e12277d6",
    "downlinkPayload": "AQQABQ=="
}